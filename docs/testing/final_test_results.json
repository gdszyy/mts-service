{
  "timestamp": "2025-11-30T20:27:07.335709",
  "test_environment": {
    "base_url": "https://mts-service-production.up.railway.app",
    "event_ids_used": [
      "sr:match:66186410",
      "sr:match:66186412",
      "sr:match:61514898",
      "sr:match:63806657",
      "sr:match:62535160",
      "sr:match:66166152",
      "sr:match:62535170",
      "sr:match:62698611",
      "sr:match:62701161",
      "sr:match:61214901"
    ]
  },
  "total_tests": 11,
  "passed": 10,
  "failed": 1,
  "pass_rate": "90.91%",
  "results": [
    {
      "test_id": "TC-HEALTH-001",
      "description": "健康检查",
      "timestamp": "2025-11-30T20:27:05.634796",
      "result": {
        "status_code": 200,
        "response": {
          "service": "mts-service",
          "status": "healthy",
          "timestamp": 1764552425
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    },
    {
      "test_id": "TC-SINGLE-001",
      "description": "成功提交单注 (真实赛事)",
      "timestamp": "2025-11-30T20:27:05.954090",
      "result": {
        "status_code": 200,
        "response": {
          "success": true,
          "data": {
            "operatorId": 45426,
            "operation": "ticket-placement",
            "content": {
              "type": "ticket-reply",
              "ticketId": "single-b87b4fda37f4-1764552425",
              "status": "rejected",
              "code": -405,
              "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
              "betDetails": [
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186410",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "2.50"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)"
                    }
                  ]
                }
              ],
              "signature": "mY4hieJ4Y5ABvgybFrtlHMLhM8haCx1NFU1HMzmEO64jproQz9X9hX0a92rPL802JQzIQyT6kZlmpNdV",
              "exchangeRate": [
                {
                  "fromCurrency": "EUR",
                  "toCurrency": "EUR",
                  "rate": "1.00000000"
                }
              ]
            },
            "correlationId": "corr-1764552425637854951",
            "timestampUtc": 1764552425840,
            "version": "3.0"
          }
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    },
    {
      "test_id": "TC-SINGLE-002",
      "description": "缺少 ticketId",
      "timestamp": "2025-11-30T20:27:05.958452",
      "result": {
        "status_code": 400,
        "response": {
          "success": false,
          "error": {
            "code": 400,
            "message": "Validation failed",
            "details": "ticketId is required"
          }
        },
        "success": false
      },
      "expected": "400 Bad Request",
      "passed": true
    },
    {
      "test_id": "TC-ACC-001",
      "description": "成功提交串关 (真实赛事)",
      "timestamp": "2025-11-30T20:27:06.245090",
      "result": {
        "status_code": 200,
        "response": {
          "success": true,
          "data": {
            "operatorId": 45426,
            "operation": "ticket-placement",
            "content": {
              "type": "ticket-reply",
              "ticketId": "acc-7cf532b3520b-1764552425",
              "status": "rejected",
              "code": -405,
              "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
              "betDetails": [
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186410",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "2.50"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186412",
                        "marketId": "1",
                        "outcomeId": "2",
                        "odds": {
                          "type": "decimal",
                          "value": "1.80"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186412/1/2, match: sr:match:66186412)"
                    }
                  ]
                }
              ],
              "signature": "ukFlno5ut/+UYF/4WsO1qPGEclLr9P2ZW6Wplz4gzfCwZ25Cje3Z8EiIGYI20bMTqSqRxotN+7smXmUo",
              "exchangeRate": [
                {
                  "fromCurrency": "EUR",
                  "toCurrency": "EUR",
                  "rate": "1.00000000"
                }
              ]
            },
            "correlationId": "corr-1764552425960843133",
            "timestampUtc": 1764552426135,
            "version": "3.0"
          }
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    },
    {
      "test_id": "TC-ACC-002",
      "description": "选项数量不足",
      "timestamp": "2025-11-30T20:27:06.249227",
      "result": {
        "status_code": 400,
        "response": {
          "success": false,
          "error": {
            "code": 400,
            "message": "Validation failed",
            "details": "accumulator requires at least 2 selections"
          }
        },
        "success": false
      },
      "expected": "400 Bad Request",
      "passed": true
    },
    {
      "test_id": "TC-SYS-001",
      "description": "成功提交系统投注 (真实赛事)",
      "timestamp": "2025-11-30T20:27:06.567860",
      "result": {
        "status_code": 200,
        "response": {
          "success": true,
          "data": {
            "operatorId": 45426,
            "operation": "ticket-placement",
            "content": {
              "type": "ticket-reply",
              "ticketId": "sys-f60bc058c9d2-1764552426",
              "status": "rejected",
              "code": -405,
              "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
              "betDetails": [
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186410",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "2.50"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186412",
                        "marketId": "1",
                        "outcomeId": "2",
                        "odds": {
                          "type": "decimal",
                          "value": "1.80"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186412/1/2, match: sr:match:66186412)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:61514898",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "3.00"
                        }
                      },
                      "code": -423,
                      "message": "Market/SOV expired in MTS (selection: uof:3/sr:match:61514898/1/1, match: sr:match:61514898)"
                    }
                  ]
                }
              ],
              "signature": "MObbKRdVIGKJNUF9NmqXARoNWfFAaTDf2P8h6X4fImCinRkMGzj0+CQ/0+t5aPcRrPPpBBw/YI8ecAFV",
              "exchangeRate": [
                {
                  "fromCurrency": "EUR",
                  "toCurrency": "EUR",
                  "rate": "1.00000000"
                }
              ]
            },
            "correlationId": "corr-1764552426251570568",
            "timestampUtc": 1764552426448,
            "version": "3.0"
          }
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    },
    {
      "test_id": "TC-SYS-002",
      "description": "无效的 stake mode",
      "timestamp": "2025-11-30T20:27:06.571938",
      "result": {
        "status_code": 400,
        "response": {
          "success": false,
          "error": {
            "code": 400,
            "message": "Validation failed",
            "details": "system bet stake mode must be 'unit'"
          }
        },
        "success": false
      },
      "expected": "400 Bad Request",
      "passed": true
    },
    {
      "test_id": "TC-BANKER-001",
      "description": "成功提交 Banker 系统投注 (真实赛事)",
      "timestamp": "2025-11-30T20:27:06.787282",
      "result": {
        "status_code": 500,
        "response": {
          "success": false,
          "error": {
            "code": 500,
            "message": "Failed to send ticket",
            "details": "MTS returned an error reply (version 3.0). Check service logs for details. CorrelationID: corr-1764552426574462453"
          }
        },
        "success": false
      },
      "expected": "200 OK",
      "passed": false
    },
    {
      "test_id": "TC-PRESET-001",
      "description": "成功提交 Trixie 投注 (真实赛事)",
      "timestamp": "2025-11-30T20:27:07.072660",
      "result": {
        "status_code": 200,
        "response": {
          "success": true,
          "data": {
            "operatorId": 45426,
            "operation": "ticket-placement",
            "content": {
              "type": "ticket-reply",
              "ticketId": "trixie-b112339c8eab-1764552426",
              "status": "rejected",
              "code": -405,
              "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
              "betDetails": [
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186410",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "2.50"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186412",
                        "marketId": "1",
                        "outcomeId": "2",
                        "odds": {
                          "type": "decimal",
                          "value": "1.80"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186412/1/2, match: sr:match:66186412)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:61514898",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "3.00"
                        }
                      },
                      "code": -423,
                      "message": "Market/SOV expired in MTS (selection: uof:3/sr:match:61514898/1/1, match: sr:match:61514898)"
                    }
                  ]
                }
              ],
              "signature": "kqyuFKPZ2cdITYnczOApaOg4wqSXM+t+gIJEigOvSo8t69SPqZMqt9izEw67scndPhiFsHwjCpo+AJf2",
              "exchangeRate": [
                {
                  "fromCurrency": "EUR",
                  "toCurrency": "EUR",
                  "rate": "1.00000000"
                }
              ]
            },
            "correlationId": "corr-1764552426789680740",
            "timestampUtc": 1764552426958,
            "version": "3.0"
          }
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    },
    {
      "test_id": "TC-PRESET-002",
      "description": "选项数量与类型不匹配",
      "timestamp": "2025-11-30T20:27:07.076794",
      "result": {
        "status_code": 400,
        "response": {
          "success": false,
          "error": {
            "code": 400,
            "message": "Validation failed",
            "details": "trixie requires exactly 3 selections, got 2"
          }
        },
        "success": false
      },
      "expected": "400 Bad Request",
      "passed": true
    },
    {
      "test_id": "TC-MULTI-001",
      "description": "成功提交多重彩 (真实赛事)",
      "timestamp": "2025-11-30T20:27:07.335577",
      "result": {
        "status_code": 200,
        "response": {
          "success": true,
          "data": {
            "operatorId": 45426,
            "operation": "ticket-placement",
            "content": {
              "type": "ticket-reply",
              "ticketId": "multi-52c2506a58ca-1764552427",
              "status": "rejected",
              "code": -405,
              "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
              "betDetails": [
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186410",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "2.50"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186410/1/1, match: sr:match:66186410)"
                    }
                  ]
                },
                {
                  "code": -405,
                  "message": "Market is not found in MTS (selection: uof:3/sr:match:66186412/1/2, match: sr:match:66186412)",
                  "selectionDetails": [
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:66186412",
                        "marketId": "1",
                        "outcomeId": "2",
                        "odds": {
                          "type": "decimal",
                          "value": "1.80"
                        }
                      },
                      "code": -405,
                      "message": "Market is not found in MTS (selection: uof:3/sr:match:66186412/1/2, match: sr:match:66186412)"
                    },
                    {
                      "selection": {
                        "type": "uf",
                        "productId": "3",
                        "eventId": "sr:match:61514898",
                        "marketId": "1",
                        "outcomeId": "1",
                        "odds": {
                          "type": "decimal",
                          "value": "3.00"
                        }
                      },
                      "code": -423,
                      "message": "Market/SOV expired in MTS (selection: uof:3/sr:match:61514898/1/1, match: sr:match:61514898)"
                    }
                  ]
                }
              ],
              "signature": "Fx45nKE4YP2D3NIs0mI613iWc4/LkP92ULtAx13cOeO7NMLBxJNyeEgUeh6uMHo3bxNGavaptnAMKD2E",
              "exchangeRate": [
                {
                  "fromCurrency": "EUR",
                  "toCurrency": "EUR",
                  "rate": "1.00000000"
                }
              ]
            },
            "correlationId": "corr-1764552427079269337",
            "timestampUtc": 1764552427223,
            "version": "3.0"
          }
        },
        "success": true
      },
      "expected": "200 OK",
      "passed": true
    }
  ]
}